<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Groupdesk</title>
    <!-- Sets initial viewport load and disables zooming  -->
    <?php require_once 'head.html'; ?>
    <link href="/views/assets/styles_students_app.css" rel="stylesheet">
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="navbar-header">
          <a class="navbar-brand" href="/"><h3 style="font-family: 'Lobster', cursive;text-spacing:2px;margin-top:-5px">GroupDesk</h3></a>

        </div>
              <div class="navbar-collapse collapse">
      </div>
    </div>
    <div class="row affix-row">
        <div class="col-sm-3 col-md-2 affix-sidebar">
        <div class="sidebar-nav">
      <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-navbar-collapse">
          <span class="sr-only"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <span class="visible-xs navbar-brand">Sidebar menu</span>
        </div>
        <div class="navbar-collapse collapse sidebar-navbar-collapse">
          <ul class="nav navbar-nav" id="sidenav01">
            <li class="active">
              <a href="#" data-toggle="collapse" data-target="#toggleDemo0" data-parent="#sidenav01" class="collapsed">
              <h4>
              <?php echo $FirstName;?> <?php echo $LastName;?>
              <br>
              <small>Preferences <span class="caret"></span></small>
              </h4>
              </a>
              <div class="collapse" id="toggleDemo0" style="height: 0px;">
                <ul class="nav nav-list">
                  <li><a href="#">Profile</a></li>
                  <li><a href="#">Edit Account</a></li>
                  <li><a href="/api/logout">Logout</a></li>
                </ul>
              </div>
            </li>
            <?php
                $index = 1;
                foreach($Groups as $group) {
                    if(is_null($group)) continue;
                    $gid = $group["ID"];
                    $uid = $ID;
                    echo '<li>';
                    echo '<a href="#" data-toggle="collapse" data-target="#toggleDemo' . $index . '" data-parent="#sidenav01" class="collapsed">';
                    echo '<span class="glyphicon glyphicon-th"></span>      ' . $group["Title"] . '<span class="caret pull-right"></span></a>';
                    echo '<div class="collapse" id="toggleDemo' . $index . '" style="height: 0px;">
                            <ul class="nav nav-list">
                                <li><a href="/class/' . $gid . '">View Projects</a></li>
                                <li><a href="/api/group/removestudent?id=' . $gid . '&student=' . $uid . '">Leave Group</a></li>
                            </ul>
                          </div>
                          </li>';
                    $index++;
                }
            ?>
          </ul>
          
          </div><!--/.nav-collapse -->
        </div>
      </div>
      </div>
    <div class="col-md-10 affix-content">
      <div class="row" style="margin-top:20px;">
        <div class="col-md-8">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title"><b>Announcement Stream</b></h3>
              </div>
              <div class="panel-body">
                <div id="" style="overflow-y: scroll; height:400px;padding-right:15px;">
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <legend>
                        <h5><span style="color:gray;font-size:13px;"><i>06/14/14</i>&nbsp;&nbsp;&nbsp;</span><b>Flavor Flave</b> said:</h5>
                      </legend>
                      So how does this thing work??? lel
                    </div>
                  </div>
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <legend>
                        <h5><span style="color:gray;font-size:13px;"><i>06/14/14</i>&nbsp;&nbsp;&nbsp;</span><b>Flavor Flave</b> said:</h5>
                      </legend>
                      So how does this thing work??? lel
                    </div>
                  </div>
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <legend>
                        <h5><span style="color:gray;font-size:13px;"><i>06/14/14</i>&nbsp;&nbsp;&nbsp;</span><b>Flavor Flave</b> said:</h5>
                      </legend>
                      So how does this thing work??? lel
                    </div>
                  </div>
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <legend>
                        <h5><span style="color:gray;font-size:13px;"><i>06/14/14</i>&nbsp;&nbsp;&nbsp;</span><b>Flavor Flave</b> said:</h5>
                      </legend>
                      So how does this thing work??? lel
                    </div>
                  </div>
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <legend>
                        <h5><span style="color:gray;font-size:13px;"><i>06/14/14</i>&nbsp;&nbsp;&nbsp;</span><b>Flavor Flave</b> said:</h5>
                      </legend>
                      So how does this thing work??? lel
                    </div>
                  </div>
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <legend>
                        <h5><span style="color:gray;font-size:13px;"><i>06/14/14</i>&nbsp;&nbsp;&nbsp;</span><b>Flavor Flave</b> said:</h5>
                      </legend>
                      So how does this thing work??? lel
                    </div>
                  </div>

                </div><br>
                <legend></legend>
                <form action="">
                  <textarea class="form-control" name="posttext" style="resize:vertical;"placeholder="Add important announcments or comments."></textarea>
                  <div style="margin-top:20px; text-align:right;"><a href="#" class="btn btn-sm btn-success">Post</a></div>
                </form>
              </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title"><b>Task List</b></h3>
              </div>
              <div class="panel-body">
                <div id="" style="overflow-y: scroll; height:476px;padding-right:15px;">
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <div class="row">
                        <div class="col-md-8">
                          self.kill()
                        </div>
                        <div class="col-md-4" style="text-align:right;">
                          <a href="" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-ok"></i></a>&nbsp;&nbsp;<a href="" class="btn btn-danger btn-xs" ><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="panel panel-default" style="background: rgba(0,0,0,0.03)">
                    <div class="panel-body">
                      <div class="row">
                        <div class="col-md-8">
                          self.kill()
                        </div>
                        <div class="col-md-4" style="text-align:right;">
                          <a href="" class="btn btn-success btn-xs"><i class="glyphicon glyphicon-ok"></i></a>&nbsp;&nbsp;<a href="" class="btn btn-danger btn-xs" ><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                      </div>
                    </div>
                  </div>

                </div><br>
                <legend></legend>
                <form action="">
                  <div class="row">
                    <div class="col-md-10">
                      <input type="text" class="form-control" name="posttext" placeholder="Add important announcments or comments.">
                    </div>
                    <div class="col-md-2">                  
                      <div style="text-align:left;margin-left:-10px"><a href="#" class="btn btn-warning"><i class="glyphicon glyphicon-plus"></i></a></div>
                    </div>
                  </div>

                </form>
              </div>
            </div>            
        </div>
      </div> 
      <div class="row">
        <div class="col-md-3">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title"><i class="glyphicon glyphicon-folder-open"></i><b>&nbsp;&nbsp;&nbsp;File Browser</b></h3>
            </div>
            <div class="panel-body">
              <div id="" style="overflow-y: scroll; height:400px;padding-right:17px;">
                <div class="list-group">
                  <a href="#" class="list-group-item active">
                    <span class="snip"><i class="glyphicon glyphicon-file"></i><b>&nbsp;&nbsp;&nbsp;Main Essay </b><br><a href="" class="btn btn-success btn-xs btn-block"><i class="glyphicon glyphicon-download"></i>&nbsp; Download</a> </span>
                  </a>
                  <br>
                  <a href="#" class="list-group-item">
                    <span class="snip"><i class="glyphicon glyphicon-file"></i><b>&nbsp;&nbsp;&nbsp;Notes </b><br><a href="" class="btn btn-default btn-xs btn-block"><i class="glyphicon glyphicon-download"></i>&nbsp; Download</a> </span>
                  </a> 
                  <br>
                  <a href="#" class="list-group-item">
                    <span class="snip"><i class="glyphicon glyphicon-file"></i><b>&nbsp;&nbsp;&nbsp;Works Cited </b><br><a href="" class="btn btn-default btn-xs btn-block"><i class="glyphicon glyphicon-download"></i>&nbsp; Download</a> </span>
                  </a>
                  <br>
                  <a href="#" class="list-group-item"><i class="glyphicon glyphicon-plus"></i><b>&nbsp;&nbsp;&nbsp;Add New File</b></a>
                </div>
              </div>
            </div>
        </div>
        </div>
        <div class="col-md-9">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title"><i class="glyphicon glyphicon-edit"></i><b>&nbsp;&nbsp;&nbsp;Collaborative Editing</b></h3>
            </div>
            <div class="panel-body">
                 <div id="firepad"></div>

                <script>
                  //// Initialize Firebase.
                  // TODO: Replace above line with:
                  var firepadRef = new Firebase('https://schollab.firebaseio.com/firepads/test');

                  //// Create CodeMirror (with lineWrapping on).
                  var codeMirror = CodeMirror(document.getElementById('firepad'), { lineWrapping: true });

                  //// Create Firepad (with rich text toolbar and shortcuts enabled).
                  var firepad = Firepad.fromCodeMirror(firepadRef, codeMirror,
                      { richTextToolbar: true, richTextShortcuts: true });

                  //// Initialize contents.
                  firepad.on('ready', function() {
                    if (firepad.isHistoryEmpty()) {
                      firepad.setHtml(
                          '<span style="font-size: 24px;">Rich-text editing with <span style="color: red">Firepad!</span></span><br/>\n' +
                          '<br/>' +
                          '<div style="font-size: 18px">' +
                          'Supports:<br/>' +
                          '<ul>' +
                            '<li>Different ' +
                              '<span style="font-family: impact">fonts,</span>' +
                              '<span style="font-size: 24px;"> sizes, </span>' +
                              '<span style="color: blue">and colors.</span>' +
                            '</li>' +
                            '<li>' +
                              '<b>Bold, </b>' +
                              '<i>italic, </i>' +
                              '<u>and underline.</u>' +
                            '</li>' +
                            '<li>Lists' +
                              '<ol>' +
                                '<li>One</li>' +
                                '<li>Two</li>' +
                              '</ol>' +
                            '</li>' +
                            '<li>Undo / redo</li>' +
                            '<li>Cursor / selection synchronization.</li>' +
                            '<li><checkbox></checkbox> It supports customized entities.</li>' +
                            '<li>And it\'s all fully collaborative!</li>' +
                          '</ul>' +
                          '</div>');
                    }
                  });

                  // An example of a complex custom entity.
                  firepad.registerEntity('checkbox', {
                    render: function (info, entityHandler) {
                      var inputElement = document.createElement('input');
                      inputElement.setAttribute('type', 'checkbox');
                      if(info.checked) {
                        inputElement.checked = 'checked';
                      }
                      inputElement.addEventListener('click', function () {
                        entityHandler.replace({checked:this.checked});
                      });
                      return inputElement;
                    }.bind(this),
                    fromElement: function (element) {
                      var info = {};
                      if(element.hasAttribute('checked')) {
                        info.checked = true;
                      }
                      return info;
                    },
                    update: function (info, element) {
                      if (info.checked) {
                        element.checked = 'checked';
                      } else {
                        element.checked = null;
                      }
                    },
                    export: function (info) {
                      var inputElement = document.createElement('checkbox');
                      if(info.checked) {
                        inputElement.setAttribute('checked', true);
                      }
                      return inputElement;
                    }
                  });
                </script>

            </div>
        </div>            
        </div>
      </div> 
    </div>
  </body>
</html>